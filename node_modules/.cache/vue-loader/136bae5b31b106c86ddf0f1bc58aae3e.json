{"remainingRequest":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/heschwerdt/currentWork/vue-graph-visual/src/nodes/Surface.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/heschwerdt/currentWork/vue-graph-visual/src/nodes/Surface.vue","mtime":1612542631914},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/usr/local/lib/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNb3VzZU1peGluIGZyb20gJy4vTW91c2VNaXhpbicKZXhwb3J0IGRlZmF1bHQgewogICAgbWl4aW5zOiBbTW91c2VNaXhpbl0sCiAgICBwcm9wczogewogICAgICAgIHdpZHRoOiB7CiAgICAgICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICAgICAgZGVmYXVsdDogODAwCiAgICAgICAgfSwKICAgICAgICBoZWlnaHQ6IHsKICAgICAgICAgICAgdHlwZTogTnVtYmVyLAogICAgICAgICAgICBkZWZhdWx0OiA4MDAKICAgICAgICB9CiAgICB9LAogICAgZGF0YTogKCkgPT4gKHsKICAgICAgICBncmlkWDogMCwKICAgICAgICBncmlkWTogMCwKICAgICAgICBncmlkQ2VsbFc6IDgwLAogICAgICAgIGdyaWRDZWxsSDogODAsCiAgICAgICAgY2VsbFc6IDgsCiAgICAgICAgY2VsbEg6IDgKICAgIH0pLAogICAgbWV0aG9kczogewogICAgICAgIG9uRHJhZyhldnQpIHsKICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKGV2dCkKICAgICAgICAgICB2YXIgZHggPSB0aGlzLlggCiAgICAgICAgICAgdmFyIGR5ID0gdGhpcy5ZIAogICAgICAgICAgIHRoaXMuc2Nyb2xsU3VyZmFjZShkeCxkeSx0aGlzLlgsdGhpcy5ZKQogICAgICAgIH0sCiAgICAgICAgb25Nb3VzZUxlYXZlKGV2dCl7CiAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB0aGlzLm1vdXNlRG93biA9IGZhbHNlCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJzdmciKS5zdHlsZS5jdXJzb3I9J2RlZmF1bHQnOwogICAgICAgIH0sCiAgICAgICAgc2Nyb2xsU3VyZmFjZShkeCwgZHksIHgsIHkpIHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29iamVjdHMnKS5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsJ3RyYW5zbGF0ZSgnICsgeCArICcsJyArIHkgKyAnKScpCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdXJmYWNlJykuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBkeCArICcsJyArIGR5ICsgJyknKQogICAgICAgIH0sCiAgICAgICAgcmVzaXplR3JpZChsdywgbGgsIHN3LCBzaCkgewogICAgICAgICAgICB0aGlzLmdyaWRDZWxsVyA9IGx3OwogICAgICAgICAgICB0aGlzLmdyaWRDZWxsSCA9IGxoOwogICAgICAgICAgICB0aGlzLmNlbGxXID0gc3c7CiAgICAgICAgICAgIHRoaXMuY2VsbEggPSBzaDsKICAgICAgICAgICAgdmFyIGVsTGFyZ2VHcmlkUmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJsYXJnZUdyaWRSZWN0Iik7CiAgICAgICAgICAgIHZhciBlbExhcmdlR3JpZFBhdGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGFyZ2VHcmlkUGF0aCIpOwogICAgICAgICAgICB2YXIgZWxMYXJnZUdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibGFyZ2VHcmlkIik7CgogICAgICAgICAgICB2YXIgZWxTbWFsbEdyaWRQYXRoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNtYWxsR3JpZFBhdGgiKTsKICAgICAgICAgICAgdmFyIGVsU21hbGxHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNtYWxsR3JpZCIpOwoKICAgICAgICAgICAgdmFyIGVsU3ZnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN2ZyIpOwogICAgICAgICAgICB2YXIgZWxTdXJmYWNlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInN1cmZhY2UiKTsKICAgICAgICAgICAgdmFyIGVsR3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJncmlkIik7CgogICAgICAgICAgICBlbExhcmdlR3JpZFJlY3Quc2V0QXR0cmlidXRlKCJ3aWR0aCIsIGx3KTsKICAgICAgICAgICAgZWxMYXJnZUdyaWRSZWN0LnNldEF0dHJpYnV0ZSgiaGVpZ2h0IiwgbGgpOwoKICAgICAgICAgICAgZWxMYXJnZUdyaWRQYXRoLnNldEF0dHJpYnV0ZSgiZCIsICJNICIgKyBsdyArICIgMCBIIDAgViAiICsgbGgpOwogICAgICAgICAgICBlbExhcmdlR3JpZC5zZXRBdHRyaWJ1dGUoIndpZHRoIiwgbHcpOwogICAgICAgICAgICBlbExhcmdlR3JpZC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsIGxoKTsKCiAgICAgICAgICAgIGVsU21hbGxHcmlkUGF0aC5zZXRBdHRyaWJ1dGUoImQiLCAiTSAiICsgc3cgKyAiIDAgSCAwIFYgIiArIHNoKTsKICAgICAgICAgICAgZWxTbWFsbEdyaWQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIHN3KTsKICAgICAgICAgICAgZWxTbWFsbEdyaWQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCBzaCk7CgogICAgICAgICAgICBlbEdyaWQuc2V0QXR0cmlidXRlKCJ4IiwgLWx3KTsKICAgICAgICAgICAgZWxHcmlkLnNldEF0dHJpYnV0ZSgieSIsIC1saCk7CgogICAgICAgICAgICB2YXIgc3ZnVyA9IGVsU3ZnLmdldEF0dHJpYnV0ZSgid2lkdGgiKTsKICAgICAgICAgICAgdmFyIHN2Z0ggPSBlbFN2Zy5nZXRBdHRyaWJ1dGUoImhlaWdodCIpOwoKICAgICAgICAgICAgZWxTdXJmYWNlLnNldEF0dHJpYnV0ZSgid2lkdGgiLCBzdmdXICsgbHcgKiAyKTsKICAgICAgICAgICAgZWxTdXJmYWNlLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iiwgc3ZnSCArIGxoICogMik7CiAgICAgICAgICAgIAogICAgICAgICAgICBlbFN1cmZhY2Uuc2V0QXR0cmlidXRlKCJ4IiwgLWx3KTsKICAgICAgICAgICAgZWxTdXJmYWNlLnNldEF0dHJpYnV0ZSgieSIsIC1saCk7CgogICAgICAgICAgICBlbFN1cmZhY2Uuc2V0QXR0cmlidXRlKCJ3aWR0aCIsIHN2Z1cgKyBsdyAqIDIpOwogICAgICAgICAgICBlbFN1cmZhY2Uuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCBzdmdIICsgbGggKiAyKTsKCiAgICAgICAgfQogICAgICAgIAogICAgfQp9Cg=="},{"version":3,"sources":["Surface.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA","file":"Surface.vue","sourceRoot":"src/nodes","sourcesContent":["<template>\n<g>\n    <defs>\n        <pattern id=\"smallGrid\" width=\"8\" height=\"8\" patternUnits=\"userSpaceOnUse\">\n            <path id=\"smallGridPath\" d=\"M 8 0 H 0 V 8\" fill=\"none\" stroke=\"gray\" stroke-width=\"0.5\" />\n        </pattern>\n        <pattern id=\"largegrid\" width=\"80\" height=\"80\" patternUnits=\"userSpaceOnUse\">\n            <rect id=\"largeGridRect\" width=\"80\" height=\"80\" fill=\"url(#smallGrid)\" />\n            <path id=\"largeGridPath\" d=\"M 80 0 H 0 V 80\" fill=\"none\" stroke=\"gray\" stroke-width=\"2\" />\n        </pattern>\n    </defs>\n    <g id=\"surface\" transform=\"translate(0, 0)\" x=\"-80\" y=\"-80\" :width=\"width\" :height=\"height\">\n        <rect \n        transform=\"translate(0, 0)\" \n        id=\"grid\" \n        x=\"-80\" \n        y=\"-80\" \n        :width=\"width+2*80\" \n        :height=\"height+2*80\" \n        fill=\"url(#largegrid)\" \n        @mousedown=\"onMouseDown\"\n        @mouseup=\"onMouseUp\"\n        @mousemove=\"onMouseMove\"\n        @mouseleave=\"onMouseLeave\"\n        />\n    </g>\n</g>\n</template>\n\n<script>\nimport MouseMixin from './MouseMixin'\nexport default {\n    mixins: [MouseMixin],\n    props: {\n        width: {\n            type: Number,\n            default: 800\n        },\n        height: {\n            type: Number,\n            default: 800\n        }\n    },\n    data: () => ({\n        gridX: 0,\n        gridY: 0,\n        gridCellW: 80,\n        gridCellH: 80,\n        cellW: 8,\n        cellH: 8\n    }),\n    methods: {\n        onDrag(evt) {\n           this.updatePosition(evt)\n           var dx = this.X \n           var dy = this.Y \n           this.scrollSurface(dx,dy,this.X,this.Y)\n        },\n        onMouseLeave(evt){\n            evt.preventDefault();\n            this.mouseDown = false\n            document.getElementById(\"svg\").style.cursor='default';\n        },\n        scrollSurface(dx, dy, x, y) {\n            document.getElementById('objects').setAttribute('transform','translate(' + x + ',' + y + ')')\n            document.getElementById('surface').setAttribute('transform', 'translate(' + dx + ',' + dy + ')')\n        },\n        resizeGrid(lw, lh, sw, sh) {\n            this.gridCellW = lw;\n            this.gridCellH = lh;\n            this.cellW = sw;\n            this.cellH = sh;\n            var elLargeGridRect = document.getElementById(\"largeGridRect\");\n            var elLargeGridPath = document.getElementById(\"largeGridPath\");\n            var elLargeGrid = document.getElementById(\"largeGrid\");\n\n            var elSmallGridPath = document.getElementById(\"smallGridPath\");\n            var elSmallGrid = document.getElementById(\"smallGrid\");\n\n            var elSvg = document.getElementById(\"svg\");\n            var elSurface = document.getElementById(\"surface\");\n            var elGrid = document.getElementById(\"grid\");\n\n            elLargeGridRect.setAttribute(\"width\", lw);\n            elLargeGridRect.setAttribute(\"height\", lh);\n\n            elLargeGridPath.setAttribute(\"d\", \"M \" + lw + \" 0 H 0 V \" + lh);\n            elLargeGrid.setAttribute(\"width\", lw);\n            elLargeGrid.setAttribute(\"height\", lh);\n\n            elSmallGridPath.setAttribute(\"d\", \"M \" + sw + \" 0 H 0 V \" + sh);\n            elSmallGrid.setAttribute(\"width\", sw);\n            elSmallGrid.setAttribute(\"height\", sh);\n\n            elGrid.setAttribute(\"x\", -lw);\n            elGrid.setAttribute(\"y\", -lh);\n\n            var svgW = elSvg.getAttribute(\"width\");\n            var svgH = elSvg.getAttribute(\"height\");\n\n            elSurface.setAttribute(\"width\", svgW + lw * 2);\n            elSurface.setAttribute(\"height\", svgH + lh * 2);\n            \n            elSurface.setAttribute(\"x\", -lw);\n            elSurface.setAttribute(\"y\", -lh);\n\n            elSurface.setAttribute(\"width\", svgW + lw * 2);\n            elSurface.setAttribute(\"height\", svgH + lh * 2);\n\n        }\n        \n    }\n}\n</script>"]}]}